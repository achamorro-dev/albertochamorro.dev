---
import type { ImageMetadata } from 'astro'
import { Image } from 'astro:assets'
interface Props {
  path: string
  alt: string
}

const images = import.meta.glob<{ default: ImageMetadata }>('/src/assets/**/*.{jpeg,jpg,png,gif,webp}')
const { path, alt } = Astro.props
const assetImagePath = `/src/assets/${path}`

if (!images[assetImagePath]) throw new Error(`No asset image found for ${assetImagePath}`)
---

<Image class="image" src={images[assetImagePath]!()} alt={alt} />

<style>
  .image {
    border-radius: var(--border-radius-xl);
  }
</style>
