---
title: C칩mo tener diferentes versiones de Node.js
description: 쯅ecesitas trabajar con diferentes versiones de Node.js? En este post repasamos los dos gestores de versiones m치s famosos.
cover: blog/diferentes-versiones-de-nodejs/versiones-nodejs-cover.png
metaImg: https://res.cloudinary.com/dp1r5podd/image/upload/v1654178542/albertochamorro.dev/Versiones_de_NodeJS_yhohch.jpg
alt: Cartel del art칤culo "C칩mo tener diferentes versiones de Node.js"
tags:
  - javascript
date: 2022-06-02
canonicalUrl: https://albertochamorro.dev/blog/diferentes-versiones-de-nodejs
---

Cuantas veces te ha ocurrido que trabajas en diferentes proyectos con JavaScript pero utilizan versiones diferentes de Node.js.

쯉ab칤as que existen gestores de versiones que te facilitan el cambio entre versiones? Aqu칤 te ense침o dos de los m치s famosos: NVM y N

## NVM

NVM (https://nvm.sh/) (o Node Version Manager) es sin lugar a dudas el gestor de versiones de Node.js m치s conocido y extendido, con m치s de 58K estrellas en GitHub.

Este gestor de versiones se instala como un comando en tu terminal y es compatible con terminales UNIX, macOS y Windows WSL. Te permite tener descargadas diferentes versiones de Node.js y cambiar de manera global entre ellas.

> NVM funciona en cualquier terminal POSIX (sh, dash, ksh, zsh, bash)

### Instalaci칩n y configuraci칩n

Para instalar o actualizar simplemente necesitas ejecutar un script con una de estas dos opciones:

```bash
$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash
```

```bash
$ wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash
```

Este script clonar치 el repositorio de `nvm` en `$NVM_DIR/.nvm` (por defecto NVM_DIR ser치 tu directorio HOME) e intentar치 a침adir la configuraci칩n necesaria a tu fichero de preferencias. Una vez recargues tu terminal ya tendr치s el comando `nvm` listo para funcionar.

```
$ nvm -v
0.39.1
```

Tambi칠n si est치s utilizando el sistema operativo macOS puedes instalar NVM gracias a Homebrew (https://brew.sh/):

```
$ brew install nvm
```

### Comandos 칰tiles

- `nvm ls-remote`: lista todas las versiones disponibles de Node.js para descargar y utilizar (no te asustes que ya te digo que son muchas 游땖).
- `nvm ls`: lista las versiones que tienes descargadas en tu ordenador.
- `nvm install <VERSION>`: descarga la versi칩n que le pasemos por par치metro. Podemos indicar la versi칩n en formato num칠rico (14.7.0), "stable" para instalar la 칰ltima versi칩n estable o "lts/" seguido del nombre de la versi칩n que queramos, por ejemplo, "lts/gallium".
- `nvm use <VERSION>`: configura de manera global la versi칩n que le indiquemos para empezar a utilizarla.
- `nvm uninstall <VERSION>`: elimina de tu ordenador la versi칩n que le digamos.
- `nvm current`: muestra la versi칩n de Node.js activa (igual que hacer `node -v`).
- `nvm exec <VERSION> <COMANDO>`: ejecuta el comando en la versi칩n que le digamos.
- `nvm run <VERSION> <ARGS>`: ejecuta el comando `node` con la versi칩n y argumentos que le indiquemos.
- `nvm reinstall-packages <VERSION>`: reinstala los paquetes globales con la versi칩n que le digamos.

```bash
$ nvm current
v16.15.1

$ nvm install stable
Downloading and installing node v18.3.0...
Local cache found: ${NVM_DIR}/.cache/bin/node-v18.3.0-darwin-arm64/node-v18.3.0-darwin-arm64.tar.xz
Computing checksum with shasum -a 256
Checksums do not match: '413d8691e8dee241cfca660b17c3857f4bb63a35e87cddef893da52b83a91e51' found, '437e836a1e77d3e19c6e8a7526b8077fb38062a01511b99f3801457db6a63bec' expected.
Checksum check failed!
Removing the broken local cache...
Downloading https://nodejs.org/dist/v18.3.0/node-v18.3.0-darwin-arm64.tar.xz...
################################################################################################################################### 100.0%
Computing checksum with shasum -a 256
Checksums matched!
Now using node v18.3.0 (npm v7.24.2)

$ nvm current
v18.3.0

$ nvm use 16
Now using node v16.15.1 (npm v7.24.2)
```

### Fichero .nvmrc

Puede que al empezar a trabajar en un proyecto veas un fichero `.nvmrc` en el directorio ra칤z. Este fichero indica la versi칩n de Node.js que se est치 utilizando en ese proyecto y que t칰 deber칤as tambi칠n utilizar.

NVM buscar치 y utilizar치 la versi칩n indicada en ese fichero para ejecutar los comandos si nosotros no especificamos una versi칩n:

```bash
$ nvm current
v18.3.0

$ cat .nvmrc
v16.15.1

$ nvm use
Found '/Users/alberto/workspace/personal/albertochamorro.dev/.nvmrc' with version <v16.15.1>
Now using node v16.15.1 (npm v7.24.2)
```

En la documentaci칩n de NVM, secci칩n "Deeper Shell Integration" (https://github.com/nvm-sh/nvm#deeper-shell-integration), te ense침an a automatizar tu terminal para ejecutar el comando `nvm use` cada vez que accedes a un directorio que contiene un fichero `.nvmrc`.

## N

N (https://github.com/tj/n) es otro conocido gestor de versiones de Node.js pero con una filosof칤a diferente a NVM. Sus creadores indican que lo han hecho mucho m치s sencillo que NVM sin tener que modificar la configuraci칩n del usuario para funcionar.

Este gestor de versiones tambi칠n se instala como un comando en tu terminal y es compatible con sistemas UNIX, macOS y Windows WSL.

### Instalaci칩n y configuraci칩n

Hay varias formas con las que puedes instalar N.

Si por ejemplo ya tuvieras Node.js y npm instalados bastar칤a con ejecutar:

```bash
$ npm install -g n
```

Si, por el contrario, a칰n no tienes npm estos ser칤an los comandos a ejecutar:

```bash
$ curl -L https://raw.githubusercontent.com/tj/n/master/bin/n -o n
$ bash n lts
$ npm install -g n
```

O si est치s en Linux o macOS tienes un instalador en un s칩lo paso:

```bash
curl -L https://bit.ly/n-install | bash
```

La instalaci칩n por defecto se har치 en `/usr/local/n` pero podr칤amos modificar el directorio donde queremos tener N estableciendo la variable de entorno `N_PREFIX` antes de la instalaci칩n.

Una vez terminemos la instalaci칩n podemos confirmar que tenemos N ejecutando:

```bash
$ n --version
v8.2.0
```

### Comandos 칰tiles

- `n`: si no tenemos ninguna versi칩n de Node.js descargada mostrar치 la ayuda. En caso de tener alguna versi칩n descargada nos mostrar치 un selector interactivo para poder cambiar a la versi칩n que queramos.
- `n ls-remote`: lista las 칰ltimas versiones disponibles de Node.js. Si queremos ver todas a침adiremos `--all` al comando.
- `n ls`: lista las versiones que tienes descargadas en tu ordenador.
- `n install <VERSION>`: descarga la versi칩n que le pasemos por par치metro.
- `n use <VERSION>`: configura de manera global la versi칩n que le indiquemos para empezar a utilizarla.
- `n rm <VERSION>`: elimina de tu ordenador la versi칩n que le digamos.
- `n exec <VERSION> <COMANDO>`: ejecuta el comando en la versi칩n que le digamos.
- `n run <VERSION> <ARGS>`: ejecuta el comando `node` con la versi칩n y argumentos que le indiquemos.
- `n prune`: elimina todas las versiones descargadas menos la que est치 en uso en ese momento.
- `n uninstall`: eliminar la versi칩n que est치 en uso en ese momento

![Uso de n](https://nimit.io/images/n/n.gif)

Algunos comandos tienen alias definidos para facilitar su uso:

- install: i
- latest: current
- ls: list
- lsr: ls-remote
- lts: stable
- rm: -
- run: use, as
- which: bin

### Definir versiones de Node.js

Al igual que con NVM dec칤amos que se utilizaba el fichero `.nvmrc` para definir la versi칩n de Node.js del proyecto, con N tenemos soporte a diferentes mecanismos.

N lee la versi칩n en el directorio actual o cualquier directorio principal, buscando en el siguiente orden:

- `.n-node-version`: fichero propio de `n`.
- `.node-version`: fichero com칰n a otras herramientas (https://github.com/shadowspawn/node-version-usage).
- `.nvmrc`: usado por NVM
- Si no existe ninguno de los ficheros anteriores, busca la propiedad `engines` (https://docs.npmjs.com/cli/v7/configuring-npm/package-json#engines) dentro del fichero `package.json` y utiliza `npx semver` para resolver rangos complejos.

---

쮺onoc칤as estas herramientas? 쯌as a empezar a utilizarlas si no lo hac칤as ya? Espero que despu칠s de leer el art칤culo te anime al menos a probarlas 游땕.

쯈uieres cambiar algo de este art칤culo? Puedes enviarme una PR [para este art칤culo](https://github.com/achamorro-dev/albertochamorro.dev/blob/main/content/articles/diferentes-versiones-de-nodejs.md)

춰Gracias por leer hasta aqu칤 y hasta la pr칩xima 游녦!
